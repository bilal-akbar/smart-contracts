{
  "contractName": "CrowdFunding",
  "abi": [
    {
      "name": "createNewProject",
      "outputs": [],
      "inputs": [
        {
          "type": "string",
          "name": "_title"
        },
        {
          "type": "string",
          "name": "_description"
        },
        {
          "type": "uint256",
          "unit": "wei",
          "name": "_goal"
        },
        {
          "type": "uint256",
          "name": "_days"
        }
      ],
      "constant": false,
      "payable": false,
      "type": "function",
      "gas": 2504260
    },
    {
      "name": "getProjectsCount",
      "outputs": [
        {
          "type": "int128",
          "name": "out"
        }
      ],
      "inputs": [],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 671
    },
    {
      "name": "getProjectByIndex",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        },
        {
          "type": "string",
          "name": "out"
        },
        {
          "type": "uint256",
          "unit": "wei",
          "name": "out"
        },
        {
          "type": "uint256",
          "unit": "wei",
          "name": "out"
        },
        {
          "type": "uint256",
          "unit": "sec",
          "name": "out"
        },
        {
          "type": "int128",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "_index"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 28201
    },
    {
      "name": "contribute",
      "outputs": [],
      "inputs": [
        {
          "type": "int128",
          "name": "_projectIndex"
        }
      ],
      "constant": false,
      "payable": true,
      "type": "function",
      "gas": 184003
    },
    {
      "name": "projects__title",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 173498
    },
    {
      "name": "projects__description",
      "outputs": [
        {
          "type": "string",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 173534
    },
    {
      "name": "projects__raised",
      "outputs": [
        {
          "type": "uint256",
          "unit": "wei",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1098
    },
    {
      "name": "projects__goal",
      "outputs": [
        {
          "type": "uint256",
          "unit": "wei",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1128
    },
    {
      "name": "projects__deadline",
      "outputs": [
        {
          "type": "uint256",
          "unit": "sec",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1158
    },
    {
      "name": "projects__state",
      "outputs": [
        {
          "type": "int128",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1188
    },
    {
      "name": "projects__owner",
      "outputs": [
        {
          "type": "address",
          "name": "out"
        }
      ],
      "inputs": [
        {
          "type": "int128",
          "name": "arg0"
        }
      ],
      "constant": true,
      "payable": false,
      "type": "function",
      "gas": 1218
    }
  ],
  "bytecode": "0x610fda56600436101561000d57610fd0565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05260001561017c575b610160526101405260026005610140516f7fffffffffffffffffffffffffffffff81106100d557600080fd5b600060c052602060c0200160c052602060c0200154146100f457600080fd5b60006000600060006002610140516f7fffffffffffffffffffffffffffffff811061011e57600080fd5b600060c052602060c0200160c052602060c02001546006610140516f7fffffffffffffffffffffffffffffff811061015557600080fd5b600060c052602060c0200160c052602060c02001546000f161017657600080fd5b61016051565b60001561023f575b61018052610140526101605260016005610140516f7fffffffffffffffffffffffffffffff81106101b457600080fd5b600060c052602060c0200160c052602060c0200154146101d357600080fd5b600060016101405160e05260c052604060c0206101605160e05260c052604060c020541161020057600080fd5b600060006000600060016101405160e05260c052604060c0206101605160e05260c052604060c02054610160516000f161023957600080fd5b61018051565b6000156103b2575b61016052610140526003610140516f7fffffffffffffffffffffffffffffff811061027157600080fd5b600060c052602060c0200160c052602060c02001546002610140516f7fffffffffffffffffffffffffffffff81106102a857600080fd5b600060c052602060c0200160c052602060c02001541015156103335760026005610140516f7fffffffffffffffffffffffffffffff81106102e857600080fd5b600060c052602060c0200160c052602060c02001556101405161016051634e19b1136101a052610140516101c0526101c051600658016100a9565b61016052610140526000506103ac565b6004610140516f7fffffffffffffffffffffffffffffff811061035557600080fd5b600060c052602060c0200160c052602060c02001544211156103ab5760016005610140516f7fffffffffffffffffffffffffffffff811061039557600080fd5b600060c052602060c0200160c052602060c02001555b5b61016051565b6394e1130960005114156105ba5734156103cb57600080fd5b610408600435600401610140376103e86004356004013511156103ed57600080fd5b610408602435600401610580376103e860243560040135111561040f57600080fd5b6002546f7fffffffffffffffffffffffffffffff811061042e57600080fd5b600060c052602060c0200160c052602060c020610140808260c052602060c020602082510161012060006021818352015b8261012051602002111561047257610494565b61012051602002850151610120518501555b815160010180835281141561045f575b505050505050610580806001830160c052602060c020602082510161012060006021818352015b826101205160200211156104ce576104f0565b61012051602002850151610120518501555b81516001018083528114156104bb575b505050505050600060028201556044356003820155426064351515610516576000610539565b620151806064356201518060643502041461053057600080fd5b62015180606435025b4201101561054657600080fd5b6064351515610556576000610579565b620151806064356201518060643502041461057057600080fd5b62015180606435025b420160048201556000600582015533600682015550606051600160025401806040519013156105a757600080fd5b80919012156105b557600080fd5b600255005b63e4a8f18b60005114156105e15734156105d357600080fd5b60025460005260206000f350005b632518c46d600051141561088e5734156105fa57600080fd5b6060516004358060405190131561061057600080fd5b809190121561061e57600080fd5b5060c0610140526101606101405181526004356f7fffffffffffffffffffffffffffffff811061064d57600080fd5b600060c052602060c0200160c052602060c0208060c052602060c020610140518301602082540161012060006021818352015b82610120516020021115610693576106b5565b61012051850154610120516020028501525b8151600101808352811415610680575b5050505050506101405160206101405183015160206001820306601f820103905001016101405261014051816020015260016004356f7fffffffffffffffffffffffffffffff811061070657600080fd5b600060c052602060c0200160c052602060c020018060c052602060c020610140518301602082540161012060006021818352015b8261012051602002111561074d5761076f565b61012051850154610120516020028501525b815160010180835281141561073a575b5050505050506101405160206101405183015160206001820306601f820103905001016101405260026004356f7fffffffffffffffffffffffffffffff81106107b757600080fd5b600060c052602060c0200160c052602060c0200154816040015260036004356f7fffffffffffffffffffffffffffffff81106107f257600080fd5b600060c052602060c0200160c052602060c0200154816060015260046004356f7fffffffffffffffffffffffffffffff811061082d57600080fd5b600060c052602060c0200160c052602060c0200154816080015260056004356f7fffffffffffffffffffffffffffffff811061086857600080fd5b600060c052602060c0200160c052602060c02001548160a001525061014051610160f350005b6313ed30a86000511415610adb57606051600435806040519013156108b257600080fd5b80919012156108c057600080fd5b5060056004356f7fffffffffffffffffffffffffffffff81106108e257600080fd5b600060c052602060c0200160c052602060c02001541561090157600080fd5b3360066004356f7fffffffffffffffffffffffffffffff811061092357600080fd5b600060c052602060c0200160c052602060c02001541861094257600080fd5b6000341161094f57600080fd5b600160043560e05260c052604060c0203360e05260c052604060c0205434600160043560e05260c052604060c0203360e05260c052604060c0205401101561099657600080fd5b34600160043560e05260c052604060c0203360e05260c052604060c0205401600160043560e05260c052604060c0203360e05260c052604060c0205560026004356f7fffffffffffffffffffffffffffffff81106109f357600080fd5b600060c052602060c0200160c052602060c02001543460026004356f7fffffffffffffffffffffffffffffff8110610a2a57600080fd5b600060c052602060c0200160c052602060c0200154011015610a4b57600080fd5b3460026004356f7fffffffffffffffffffffffffffffff8110610a6d57600080fd5b600060c052602060c0200160c052602060c02001540160026004356f7fffffffffffffffffffffffffffffff8110610aa457600080fd5b600060c052602060c0200160c052602060c020015563a9bb356761014052600435610160526101605160065801610247565b600050005b633246a1506000511415610c16573415610af457600080fd5b60605160043580604051901315610b0a57600080fd5b8091901215610b1857600080fd5b506004356f7fffffffffffffffffffffffffffffff8110610b3857600080fd5b600060c052602060c0200160c052602060c0208060c052602060c020610180602082540161012060006021818352015b82610120516020021115610b7b57610b9d565b61012051850154610120516020028501525b8151600101808352811415610b68575b5050505050506101805160206001820306601f82010390506105c061018051610400818352015b826105c051101515610bd557610bf1565b60006105c0516101a001535b8151600101808352811415610bc4575b5050506020610160526040610180510160206001820306601f8201039050610160f350005b63029af3f06000511415610d54573415610c2f57600080fd5b60605160043580604051901315610c4557600080fd5b8091901215610c5357600080fd5b5060016004356f7fffffffffffffffffffffffffffffff8110610c7557600080fd5b600060c052602060c0200160c052602060c020018060c052602060c020610180602082540161012060006021818352015b82610120516020021115610cb957610cdb565b61012051850154610120516020028501525b8151600101808352811415610ca6575b5050505050506101805160206001820306601f82010390506105c061018051610400818352015b826105c051101515610d1357610d2f565b60006105c0516101a001535b8151600101808352811415610d02575b5050506020610160526040610180510160206001820306601f8201039050610160f350005b635d2134896000511415610dd3573415610d6d57600080fd5b60605160043580604051901315610d8357600080fd5b8091901215610d9157600080fd5b5060026004356f7fffffffffffffffffffffffffffffff8110610db357600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b639e40b6586000511415610e52573415610dec57600080fd5b60605160043580604051901315610e0257600080fd5b8091901215610e1057600080fd5b5060036004356f7fffffffffffffffffffffffffffffff8110610e3257600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b639df2de9a6000511415610ed1573415610e6b57600080fd5b60605160043580604051901315610e8157600080fd5b8091901215610e8f57600080fd5b5060046004356f7fffffffffffffffffffffffffffffff8110610eb157600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b63985b71216000511415610f50573415610eea57600080fd5b60605160043580604051901315610f0057600080fd5b8091901215610f0e57600080fd5b5060056004356f7fffffffffffffffffffffffffffffff8110610f3057600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b635574f0c76000511415610fcf573415610f6957600080fd5b60605160043580604051901315610f7f57600080fd5b8091901215610f8d57600080fd5b5060066004356f7fffffffffffffffffffffffffffffff8110610faf57600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b5b60006000fd5b610004610fda03610004600039610004610fda036000f3",
  "deployedBytecode": "0x600436101561000d57610fd0565b600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05260001561017c575b610160526101405260026005610140516f7fffffffffffffffffffffffffffffff81106100d557600080fd5b600060c052602060c0200160c052602060c0200154146100f457600080fd5b60006000600060006002610140516f7fffffffffffffffffffffffffffffff811061011e57600080fd5b600060c052602060c0200160c052602060c02001546006610140516f7fffffffffffffffffffffffffffffff811061015557600080fd5b600060c052602060c0200160c052602060c02001546000f161017657600080fd5b61016051565b60001561023f575b61018052610140526101605260016005610140516f7fffffffffffffffffffffffffffffff81106101b457600080fd5b600060c052602060c0200160c052602060c0200154146101d357600080fd5b600060016101405160e05260c052604060c0206101605160e05260c052604060c020541161020057600080fd5b600060006000600060016101405160e05260c052604060c0206101605160e05260c052604060c02054610160516000f161023957600080fd5b61018051565b6000156103b2575b61016052610140526003610140516f7fffffffffffffffffffffffffffffff811061027157600080fd5b600060c052602060c0200160c052602060c02001546002610140516f7fffffffffffffffffffffffffffffff81106102a857600080fd5b600060c052602060c0200160c052602060c02001541015156103335760026005610140516f7fffffffffffffffffffffffffffffff81106102e857600080fd5b600060c052602060c0200160c052602060c02001556101405161016051634e19b1136101a052610140516101c0526101c051600658016100a9565b61016052610140526000506103ac565b6004610140516f7fffffffffffffffffffffffffffffff811061035557600080fd5b600060c052602060c0200160c052602060c02001544211156103ab5760016005610140516f7fffffffffffffffffffffffffffffff811061039557600080fd5b600060c052602060c0200160c052602060c02001555b5b61016051565b6394e1130960005114156105ba5734156103cb57600080fd5b610408600435600401610140376103e86004356004013511156103ed57600080fd5b610408602435600401610580376103e860243560040135111561040f57600080fd5b6002546f7fffffffffffffffffffffffffffffff811061042e57600080fd5b600060c052602060c0200160c052602060c020610140808260c052602060c020602082510161012060006021818352015b8261012051602002111561047257610494565b61012051602002850151610120518501555b815160010180835281141561045f575b505050505050610580806001830160c052602060c020602082510161012060006021818352015b826101205160200211156104ce576104f0565b61012051602002850151610120518501555b81516001018083528114156104bb575b505050505050600060028201556044356003820155426064351515610516576000610539565b620151806064356201518060643502041461053057600080fd5b62015180606435025b4201101561054657600080fd5b6064351515610556576000610579565b620151806064356201518060643502041461057057600080fd5b62015180606435025b420160048201556000600582015533600682015550606051600160025401806040519013156105a757600080fd5b80919012156105b557600080fd5b600255005b63e4a8f18b60005114156105e15734156105d357600080fd5b60025460005260206000f350005b632518c46d600051141561088e5734156105fa57600080fd5b6060516004358060405190131561061057600080fd5b809190121561061e57600080fd5b5060c0610140526101606101405181526004356f7fffffffffffffffffffffffffffffff811061064d57600080fd5b600060c052602060c0200160c052602060c0208060c052602060c020610140518301602082540161012060006021818352015b82610120516020021115610693576106b5565b61012051850154610120516020028501525b8151600101808352811415610680575b5050505050506101405160206101405183015160206001820306601f820103905001016101405261014051816020015260016004356f7fffffffffffffffffffffffffffffff811061070657600080fd5b600060c052602060c0200160c052602060c020018060c052602060c020610140518301602082540161012060006021818352015b8261012051602002111561074d5761076f565b61012051850154610120516020028501525b815160010180835281141561073a575b5050505050506101405160206101405183015160206001820306601f820103905001016101405260026004356f7fffffffffffffffffffffffffffffff81106107b757600080fd5b600060c052602060c0200160c052602060c0200154816040015260036004356f7fffffffffffffffffffffffffffffff81106107f257600080fd5b600060c052602060c0200160c052602060c0200154816060015260046004356f7fffffffffffffffffffffffffffffff811061082d57600080fd5b600060c052602060c0200160c052602060c0200154816080015260056004356f7fffffffffffffffffffffffffffffff811061086857600080fd5b600060c052602060c0200160c052602060c02001548160a001525061014051610160f350005b6313ed30a86000511415610adb57606051600435806040519013156108b257600080fd5b80919012156108c057600080fd5b5060056004356f7fffffffffffffffffffffffffffffff81106108e257600080fd5b600060c052602060c0200160c052602060c02001541561090157600080fd5b3360066004356f7fffffffffffffffffffffffffffffff811061092357600080fd5b600060c052602060c0200160c052602060c02001541861094257600080fd5b6000341161094f57600080fd5b600160043560e05260c052604060c0203360e05260c052604060c0205434600160043560e05260c052604060c0203360e05260c052604060c0205401101561099657600080fd5b34600160043560e05260c052604060c0203360e05260c052604060c0205401600160043560e05260c052604060c0203360e05260c052604060c0205560026004356f7fffffffffffffffffffffffffffffff81106109f357600080fd5b600060c052602060c0200160c052602060c02001543460026004356f7fffffffffffffffffffffffffffffff8110610a2a57600080fd5b600060c052602060c0200160c052602060c0200154011015610a4b57600080fd5b3460026004356f7fffffffffffffffffffffffffffffff8110610a6d57600080fd5b600060c052602060c0200160c052602060c02001540160026004356f7fffffffffffffffffffffffffffffff8110610aa457600080fd5b600060c052602060c0200160c052602060c020015563a9bb356761014052600435610160526101605160065801610247565b600050005b633246a1506000511415610c16573415610af457600080fd5b60605160043580604051901315610b0a57600080fd5b8091901215610b1857600080fd5b506004356f7fffffffffffffffffffffffffffffff8110610b3857600080fd5b600060c052602060c0200160c052602060c0208060c052602060c020610180602082540161012060006021818352015b82610120516020021115610b7b57610b9d565b61012051850154610120516020028501525b8151600101808352811415610b68575b5050505050506101805160206001820306601f82010390506105c061018051610400818352015b826105c051101515610bd557610bf1565b60006105c0516101a001535b8151600101808352811415610bc4575b5050506020610160526040610180510160206001820306601f8201039050610160f350005b63029af3f06000511415610d54573415610c2f57600080fd5b60605160043580604051901315610c4557600080fd5b8091901215610c5357600080fd5b5060016004356f7fffffffffffffffffffffffffffffff8110610c7557600080fd5b600060c052602060c0200160c052602060c020018060c052602060c020610180602082540161012060006021818352015b82610120516020021115610cb957610cdb565b61012051850154610120516020028501525b8151600101808352811415610ca6575b5050505050506101805160206001820306601f82010390506105c061018051610400818352015b826105c051101515610d1357610d2f565b60006105c0516101a001535b8151600101808352811415610d02575b5050506020610160526040610180510160206001820306601f8201039050610160f350005b635d2134896000511415610dd3573415610d6d57600080fd5b60605160043580604051901315610d8357600080fd5b8091901215610d9157600080fd5b5060026004356f7fffffffffffffffffffffffffffffff8110610db357600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b639e40b6586000511415610e52573415610dec57600080fd5b60605160043580604051901315610e0257600080fd5b8091901215610e1057600080fd5b5060036004356f7fffffffffffffffffffffffffffffff8110610e3257600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b639df2de9a6000511415610ed1573415610e6b57600080fd5b60605160043580604051901315610e8157600080fd5b8091901215610e8f57600080fd5b5060046004356f7fffffffffffffffffffffffffffffff8110610eb157600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b63985b71216000511415610f50573415610eea57600080fd5b60605160043580604051901315610f0057600080fd5b8091901215610f0e57600080fd5b5060056004356f7fffffffffffffffffffffffffffffff8110610f3057600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b635574f0c76000511415610fcf573415610f6957600080fd5b60605160043580604051901315610f7f57600080fd5b8091901215610f8d57600080fd5b5060066004356f7fffffffffffffffffffffffffffffff8110610faf57600080fd5b600060c052602060c0200160c052602060c020015460005260206000f350005b5b60006000fd",
  "source": "\nMAXVAL: constant(int128) = (2**127 -1)\n\nstruct Project:\n    title: string[1000]\n    description: string[1000]\n    raised: wei_value\n    goal: wei_value\n    deadline: timestamp\n    state: int128\n    owner: address\n\nprojects: public(Project[MAXVAL])\ncontributions: map(int128, map(address, wei_value))\nprojectsCount: int128\n\n\n@private\ndef payOut(_projectIndex: int128):\n    assert self.projects[_projectIndex].state == 2\n    send(self.projects[_projectIndex].owner, self.projects[_projectIndex].raised)\n        \n@private\ndef refund(_projectIndex: int128, donor : address):\n    assert self.projects[_projectIndex].state == 1\n    assert self.contributions[_projectIndex][donor] > 0\n    send(donor, self.contributions[_projectIndex][donor])\n    \n\n@private\ndef projectStatus(_projectIndex: int128):\n    if self.projects[_projectIndex].raised >= self.projects[_projectIndex].goal:\n        self.projects[_projectIndex].state = 2\n        self.payOut(_projectIndex)\n    elif block.timestamp > self.projects[_projectIndex].deadline:\n        self.projects[_projectIndex].state = 1\n\n@public\ndef createNewProject(_title: string[1000], _description: string[1000], _goal: wei_value, _days: uint256):\n    self.projects[self.projectsCount] = Project({title: _title, description: _description, raised: 0, goal: _goal, deadline: block.timestamp + ( _days * 86400), state: 0, owner: msg.sender})\n    self.projectsCount = self.projectsCount + 1\n    \n@public\n@constant\ndef getProjectsCount() -> int128:\n    return self.projectsCount\n    \n@public\n@constant\ndef getProjectByIndex(_index: int128) -> (string[1000], string[1000], wei_value, wei_value, timestamp, int128):\n    return (self.projects[_index].title, self.projects[_index].description, self.projects[_index].raised, self.projects[_index].goal, self.projects[_index].deadline, self.projects[_index].state)\n\n@public\n@payable\ndef contribute(_projectIndex: int128):\n    assert self.projects[_projectIndex].state == 0\n    assert self.projects[_projectIndex].owner != msg.sender\n    assert msg.value > 0\n    self.contributions[_projectIndex][msg.sender] = self.contributions[_projectIndex][msg.sender] + msg.value\n    self.projects[_projectIndex].raised = self.projects[_projectIndex].raised + msg.value\n    self.projectStatus(_projectIndex)",
  "sourcePath": "/Users/bilalakbar/Documents/Thesis/code/smart-contracts/vyper-ethereum/contracts/CrowdFunding.vy",
  "compiler": {
    "name": "vyper",
    "version": "0.1.0b13+commit.6385900"
  },
  "networks": {
    "5777": {
      "events": {},
      "links": {},
      "address": "0xe4DcBe7645C9aD2692F36f3428f7A623E6712f49",
      "transactionHash": "0x4a4a023d11f1d95f8501b78de10e74686cbe13d6a643acaeaf72fddf1c2346cf"
    }
  },
  "schemaVersion": "3.0.13",
  "updatedAt": "2019-10-14T15:22:36.084Z"
}